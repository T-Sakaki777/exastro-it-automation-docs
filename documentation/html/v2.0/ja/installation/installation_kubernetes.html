
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>インストール方法 (Kubernetes) &#8212; Documentation  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/option.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/exastro_documents.css?v=2" />
    <link rel="stylesheet" type="text/css" href="../../../_static/swagger/swagger-ui.css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/translations.js"></script>
    <script src="../../../_static/jquery-3.6.3.min.js"></script>
    <script src="../../../_static/exastro_documents.js?v=1"></script>
    <script src="../../../_static/swagger/swagger-ui-bundle.js"></script>
    <script src="../../../_static/swagger/swagger-ui-standalone-preset.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="検索" href="../../../search.html" />
    <link rel="next" title="マニュアル" href="../manuals/index.html" />
    <link rel="prev" title="Azure Kubernetes Service" href="aks.html" /> 
  </head>
<body id="page" class="ja">


<div id="container">

<div id="header">
  <header class="divInner">
    <!-- Exastro logo -->
    <div id="logo"><img src="../../../_static/img/exastro.svg" alt="Exastro"></div>
    <!-- Project name -->
    <div id="projectName"><a href="../../../index.html">Documentation</a></div>
    <!-- Heaedr navigation -->
    <div id="headerSearch">
      <form class="search" action="../../../search.html" method="get">
        <input type="text" name="q" aria-labelledby="searchlabel">
        <button type="submit" value="検索"><img src="../../../_static/img/search.png" alt="検索"></button>
      </form>
    </div>
  </header>
</div><!-- End #header -->


<div id="toolbar">
  <div class="divInner">
    
    <div id="documentVersion">
      <dl>
        <dt>Document version</dt>
        <dd>
          <div>
            <select name="version" onchange="location.href=value;">
                file_path: v2.0/ja/installation/installation_kubernetes
                  <option value="#"
                  selected
                  >current</option>
                file_path: v2.0/ja/installation/installation_kubernetes
                  <option value="#"
                  selected
                  >v2.0 (current)</option>
            </select>
          </div>
        </dd>
      </dl>
    </div>

    <div id="documentLanguage">
      <dl>
        <dt>Language</dt>
        <dd>
          <div>
            <select name="lang" onchange="location.href=value;">
                file_path: v2.0/ja/installation/installation_kubernetes
                hasdoc: True
                  <option value="#"
                  selected
                  >日本語</option>
                file_path: v2.0/en/installation/installation_kubernetes
                hasdoc: False
            </select>
          </div>
        </dd>
      </dl>
    </div>
    <div id="toolbarNavigation">
      <ul>
        <li class="prev"><a href="aks.html" title="前のトピックへ">Azure Kubernetes Service</a></li>
        <li class="next"><a href="../manuals/index.html" title="次のトピックへ">マニュアル</a></li>
      </ul>
    </div>
  </div>
</div><!-- End #toolbar -->

<div id="sideMenu">

  <div id="menuButton"></div>
  
  <aside class="divInner">
    <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Exastro IT Automation Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#id1">日本語</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">インストール</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="aks.html">Azure Kubernetes Service</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">インストール方法 (Kubernetes)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id1">はじめに</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id2">前提条件</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id3">インストールの準備</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id8">インストール</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id10">インストール状況確認</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id11">接続確認</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manuals/index.html">マニュアル</a></li>
<li class="toctree-l3"><a class="reference internal" href="../document_design/index.html">ドキュメント記載方法</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    <!-- <ul>
      <li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">索引</a></li>
    </ul> -->
    
  </aside>
</div><!-- End #sideMenu -->


<div id="tableOfContents">
  <div id="tocButton"></div>
  <ul>
<li><a class="reference internal" href="#">インストール方法 (Kubernetes)</a><ul>
<li><a class="reference internal" href="#id1">はじめに</a></li>
<li><a class="reference internal" href="#id2">前提条件</a></li>
<li><a class="reference internal" href="#id3">インストールの準備</a><ul>
<li><a class="reference internal" href="#helm">1. Helm リポジトリの登録</a></li>
<li><a class="reference internal" href="#id4">2. デフォルト設定値の取得</a></li>
<li><a class="reference internal" href="#ingress">3. サービス公開の設定 (Ingress の設定)</a></li>
<li><a class="reference internal" href="#database-setup">4. データベースコンテナの設定</a></li>
<li><a class="reference internal" href="#keycloak">5. Keycloak 設定</a></li>
<li><a class="reference internal" href="#id6">6. 認証機能用のデータベース設定</a></li>
<li><a class="reference internal" href="#exastro-it-automation">7. Exastro IT Automation 用のデータベース設定</a></li>
<li><a class="reference internal" href="#id7">8. データベース接続アカウントの設定</a></li>
<li><a class="reference internal" href="#gitlab">9. GitLab 連携設定</a></li>
<li><a class="reference internal" href="#persistentvolume-pv">10. 永続ボリューム - PersistentVolume(pv)の設定例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">インストール</a></li>
<li><a class="reference internal" href="#id10">インストール状況確認</a></li>
<li><a class="reference internal" href="#id11">接続確認</a></li>
</ul>
</li>
</ul>

</div>


<div id="contents">
<main class="divInner">

 <div id="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">HOME</a></li>
    <li><a href="../../index.html">Exastro IT Automation Documentation</a></li>
    <li><a href="index.html">インストール</a></li>
    
    <li>インストール方法 (Kubernetes)</li>
  </ul>
</div>

<div id="article">
<article class="divInner">
<div class="body" role="main">

  <section id="kubernetes">
<h1>インストール方法 (Kubernetes)<a class="headerlink" href="#kubernetes" title="この見出しへのパーマリンク">¶</a></h1>
<section id="id1">
<h2>はじめに<a class="headerlink" href="#id1" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">本章では、Exastro IT Automation を利用する際に必要となる、Exastro Platform および Exastro IT Automation を導入する手順について説明します。</div>
</div>
</section>
<section id="id2">
<h2>前提条件<a class="headerlink" href="#id2" title="この見出しへのパーマリンク">¶</a></h2>
<ul>
<li><p>クライアント要件</p>
<div class="line-block">
<div class="line">動作確認が取れているクライアントアプリケーションのバージョンは下記のとおりです。</div>
</div>
<table class="docutils align-default" id="id12">
<caption><span class="caption-number">表 1 </span><span class="caption-text">クライアント要件</span><a class="headerlink" href="#id12" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>アプリケーション</p></th>
<th class="head"><p>バージョン</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Helm</p></td>
<td><p>v3.9.x</p></td>
</tr>
<tr class="row-odd"><td><p>kubectl</p></td>
<td><p>1.23</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>デプロイ環境</p>
<div class="line-block">
<div class="line">動作確認が取れているコンテナ環境の最小要求リソースとバージョンは下記のとおりです。</div>
</div>
<table class="docutils align-default" id="id13">
<caption><span class="caption-number">表 2 </span><span class="caption-text">デプロイ環境</span><a class="headerlink" href="#id13" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>リソース種別</p></th>
<th class="head"><p>要求リソース</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CPU</p></td>
<td><p>2 Cores (3.0 GHz)</p></td>
</tr>
<tr class="row-odd"><td><p>Memory</p></td>
<td><p>4GB</p></td>
</tr>
<tr class="row-even"><td><p>Storage (Container image size)</p></td>
<td><p>10GB</p></td>
</tr>
<tr class="row-odd"><td><p>Kubernetes</p></td>
<td><p>1.23</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<div class="line-block">
<div class="line">データベースおよびファイルの永続化のために、別途ストレージ領域を用意する必要があります。</div>
<div class="line">Storage サイズには、Exastro IT Automation が使用する入出力データのファイルは含まれていないため、利用状況に応じて容量を見積もる必要があります。</div>
</div>
</div>
</li>
<li><p>通信要件</p>
<ul class="simple">
<li><p>クライアントからデプロイ先のコンテナ環境にアクセスできる必要があります。</p></li>
<li><p>Platform管理者用と一般ユーザー用の2つ通信ポートが使用となります。</p></li>
<li><p>コンテナ環境からコンテナイメージの取得のために、Docker Hub に接続できる必要があります。</p></li>
</ul>
</li>
<li><p>外部コンポーネント</p>
<ul class="simple">
<li><p>MariaDB、もしくは、MySQL サーバ</p></li>
<li><p>GitLabリポジトリ、および、アカウントの払い出しが可能なこと</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<div class="line-block">
<div class="line">GitLab環境を同一クラスタに構築する場合は、GitLabのシステム要件に対応する最小要件を追加で容易する必要があります。</div>
<div class="line">Database環境を同一クラスタに構築する場合は、使用するDatabaseのシステム要件に対応する最小要件を定義する必要があります</div>
</div>
</div>
</li>
</ul>
</section>
<section id="id3">
<h2>インストールの準備<a class="headerlink" href="#id3" title="この見出しへのパーマリンク">¶</a></h2>
<section id="helm">
<h3>1. Helm リポジトリの登録<a class="headerlink" href="#helm" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">Exastro Suite は、以下の2つのアプリケーションから構成されています。</div>
</div>
<ul class="simple">
<li><p>共通基盤 (Exastro Platform)</p></li>
<li><p>Exastro IT Automation</p></li>
</ul>
<div class="line-block">
<div class="line">そのため、以下の Helm リポジトリより、2つのHelmリポジトリを登録する必要があります。</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 28.6%" />
<col style="width: 71.4%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>アプリケーション名</p></th>
<th class="head"><p>リポジトリ</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>共通基盤</p></td>
<td><p><a class="reference external" href="https://exastro-suite.github.io/exastro-platform/charts/">https://exastro-suite.github.io/exastro-platform/charts/</a></p></td>
</tr>
<tr class="row-odd"><td><p>Exastro IT Automation</p></td>
<td><p><a class="reference external" href="https://exastro-suite.github.io/exastro-it-automation/charts/">https://exastro-suite.github.io/exastro-it-automation/charts/</a></p></td>
</tr>
</tbody>
</table>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># 共通基盤 (Exastro Platform) の Helm リポジトリを登録</span>
helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>exastro-platform<span class="w"> </span>https://exastro-suite.github.io/exastro-platform/charts/<span class="w"> </span>-n<span class="w"> </span>exastro-platform
<span class="c1"># Exastro IT Automation の Helm リポジトリを登録</span>
helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>exastro-it-automation<span class="w"> </span>https://exastro-suite.github.io/exastro-it-automation/charts/<span class="w"> </span>-n<span class="w"> </span>exastro-it-automation
<span class="c1"># リポジトリ情報の更新</span>
helm<span class="w"> </span>repo<span class="w"> </span>update
</pre></div>
</div>
</section>
<section id="id4">
<h3>2. デフォルト設定値の取得<a class="headerlink" href="#id4" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">投入するパラメータを管理しやすくするために、下記のコマンドから共通基盤 values.yaml のデフォルト値を出力します。</div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>helm<span class="w"> </span>show<span class="w"> </span>values<span class="w"> </span>exastro-platform/exastro-platform<span class="w"> </span>&gt;<span class="w"> </span>exastro-platform.yaml
</pre></div>
</div>
<details>
  <summary>exastro-platform.yaml</summary><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Default values for platform.</span>
<span class="c1"># This is a YAML-formatted file.</span>
<span class="c1"># Declare variables to be passed into your templates.</span>
<span class="nt">global</span><span class="p">:</span>
<span class="w">  </span><span class="nt">authGlobalDefinition</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auth-global</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span>
<span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;docker.io&quot;</span>
<span class="w">      </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exastro</span>
<span class="w">      </span><span class="nt">package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exastro-platform</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">DEFAULT_LANGUAGE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ja&quot;</span>
<span class="w">      </span><span class="nt">LANGUAGE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;en&quot;</span>
<span class="w">      </span><span class="nt">TZ</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Asia/Tokyo&quot;</span>
<span class="w">      </span><span class="nt">PYTHONIOENCODING</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">utf-8</span>
<span class="w">      </span><span class="nt">PLATFORM_API_PROTOCOL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">      </span><span class="nt">PLATFORM_API_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;platform-api&quot;</span>
<span class="w">      </span><span class="nt">PLATFORM_API_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;8000&quot;</span>
<span class="w">      </span><span class="nt">PLATFORM_WEB_PROTOCOL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">      </span><span class="nt">PLATFORM_WEB_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;platform-web&quot;</span>
<span class="w">      </span><span class="nt">PLATFORM_WEB_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;8000&quot;</span>
<span class="w">    </span><span class="nt">secret</span><span class="p">:</span>
<span class="w">      </span><span class="nt">ENCRYPT_KEY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">    </span><span class="nt">persistence</span><span class="p">:</span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">accessMode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteMany</span>
<span class="w">      </span><span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
<span class="w">      </span><span class="nt">volumeType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hostPath</span><span class="w"> </span><span class="c1"># e.g.) hostPath or AKS</span>
<span class="w">      </span><span class="nt">storageClass</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="w"> </span><span class="c1"># e.g.) azurefile or - (None)</span>
<span class="w">      </span><span class="c1"># matchLabels:</span>
<span class="w">      </span><span class="c1">#   release: &quot;stable&quot;</span>
<span class="w">      </span><span class="c1"># matchExpressions:</span>
<span class="w">      </span><span class="c1">#   - {key: environment, operator: In, values: [dev]}</span>
<span class="w">  </span><span class="nt">keycloakDefinition</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">keycloak</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">API_KEYCLOAK_PROTOCOL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">      </span><span class="nt">API_KEYCLOAK_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;keycloak.exastro-platform.svc&quot;</span>
<span class="w">      </span><span class="nt">API_KEYCLOAK_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;8080&quot;</span>
<span class="w">      </span><span class="nt">KEYCLOAK_PROTOCOL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">      </span><span class="nt">KEYCLOAK_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;keycloak.exastro-platform.svc&quot;</span>
<span class="w">      </span><span class="nt">KEYCLOAK_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;8080&quot;</span>
<span class="w">      </span><span class="nt">KEYCLOAK_MASTER_REALM</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;master&quot;</span>
<span class="w">      </span><span class="nt">KEYCLOAK_DB_DATABASE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;keycloak&quot;</span>
<span class="w">    </span><span class="nt">secret</span><span class="p">:</span>
<span class="w">      </span><span class="nt">KEYCLOAK_USER</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">      </span><span class="nt">KEYCLOAK_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">      </span><span class="nt">KEYCLOAK_DB_USER</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">      </span><span class="nt">KEYCLOAK_DB_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">itaDefinition</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ita</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">ITA_WEB_PROTOCOL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">      </span><span class="nt">ITA_WEB_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ita-web-server.exastro-it-automation.svc&quot;</span>
<span class="w">      </span><span class="nt">ITA_WEB_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;8000&quot;</span>
<span class="w">      </span><span class="nt">ITA_API_PROTOCOL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">      </span><span class="nt">ITA_API_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ita-api-organization.exastro-it-automation.svc&quot;</span>
<span class="w">      </span><span class="nt">ITA_API_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;8080&quot;</span>
<span class="w">      </span><span class="nt">ITA_API_ADMIN_PROTOCOL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">      </span><span class="nt">ITA_API_ADMIN_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ita-api-admin.exastro-it-automation.svc&quot;</span>
<span class="w">      </span><span class="nt">ITA_API_ADMIN_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;8080&quot;</span>
<span class="w">  </span><span class="nt">authDatabaseDefinition</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auth-database</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">DB_VENDOR</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mariadb&quot;</span>
<span class="w">      </span><span class="nt">DB_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mariadb.exastro-platform.svc&quot;</span>
<span class="w">      </span><span class="nt">DB_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3306&quot;</span>
<span class="w">      </span><span class="nt">DB_DATABASE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;platform&quot;</span>
<span class="w">    </span><span class="nt">secret</span><span class="p">:</span>
<span class="w">      </span><span class="nt">DB_ADMIN_USER</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">      </span><span class="nt">DB_ADMIN_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">      </span><span class="nt">DB_USER</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">      </span><span class="nt">DB_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">databaseDefinition</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mariadb</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">secret</span><span class="p">:</span>
<span class="w">      </span><span class="nt">MARIADB_ROOT_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">    </span><span class="nt">persistence</span><span class="p">:</span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">reinstall</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">accessMode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
<span class="w">      </span><span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20Gi</span>
<span class="w">      </span><span class="nt">volumeType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hostPath</span><span class="w"> </span><span class="c1"># e.g.) hostPath or AKS</span>
<span class="w">      </span><span class="nt">storageClass</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="w"> </span><span class="c1"># e.g.) azurefile or - (None)</span>
<span class="w">      </span><span class="c1"># matchLabels:</span>
<span class="w">      </span><span class="c1">#   release: &quot;stable&quot;</span>
<span class="w">      </span><span class="c1"># matchExpressions:</span>
<span class="w">      </span><span class="c1">#   - {key: environment, operator: In, values: [dev]}</span>

<span class="nt">platform-api</span><span class="p">:</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-platform-api&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.1.0&quot;</span>

<span class="nt">platform-auth</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ingress</span><span class="p">:</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">hosts</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exastro-suite.example.local</span>
<span class="w">        </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/</span>
<span class="w">            </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
<span class="w">            </span><span class="nt">backend</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exastro-suite-mng.example.local</span>
<span class="w">        </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/</span>
<span class="w">            </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
<span class="w">            </span><span class="nt">backend</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;httpMng&quot;</span>
<span class="w">  </span><span class="nt">service</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-platform-auth&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.1.0&quot;</span>

<span class="nt">platform-setup</span><span class="p">:</span>
<span class="w">  </span><span class="nt">keycloak</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span>
<span class="w">      </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-platform-job&quot;</span>
<span class="w">      </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.1.0&quot;</span>

<span class="nt">platform-web</span><span class="p">:</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-platform-web&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.1.0&quot;</span>

<span class="nt">mariadb</span><span class="p">:</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mariadb&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10.9&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">    </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;256Mi&quot;</span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1m&quot;</span>
<span class="w">    </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2Gi&quot;</span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;4&quot;</span>

<span class="nt">keycloak</span><span class="p">:</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/keycloak&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.1.0&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">    </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;256Mi&quot;</span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1m&quot;</span>
<span class="w">    </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2Gi&quot;</span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;4&quot;</span>
</pre></div>
</div>
</details><div class="line-block">
<div class="line">同様に、下記のコマンドから Exastro IT Automation の values.yaml のデフォルト値を出力します。</div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>helm<span class="w"> </span>show<span class="w"> </span>values<span class="w"> </span>exastro-it-automation/exastro-it-automation<span class="w"> </span>&gt;<span class="w"> </span>exastro-it-automation.yaml
</pre></div>
</div>
<details>
<summary>exastro-it-automation.yaml</summary><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Default values for Exastro IT Automation.</span>
<span class="c1"># This is a YAML-formatted file.</span>
<span class="c1"># Declare variables to be passed into your templates.</span>
<span class="nt">global</span><span class="p">:</span>
<span class="w">  </span><span class="nt">itaGlobalDefinition</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ita-global</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span>
<span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;docker.io&quot;</span>
<span class="w">      </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exastro</span>
<span class="w">      </span><span class="nt">package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exastro-it-automation</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">DEFAULT_LANGUAGE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ja&quot;</span>
<span class="w">      </span><span class="nt">LANGUAGE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;en&quot;</span>
<span class="w">      </span><span class="nt">CONTAINER_BASE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;kubernetes&quot;</span>
<span class="w">      </span><span class="nt">TZ</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Asia/Tokyo&quot;</span>
<span class="w">      </span><span class="nt">STORAGEPATH</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/storage/&quot;</span>
<span class="w">    </span><span class="nt">secret</span><span class="p">:</span>
<span class="w">      </span><span class="nt">ENCRYPT_KEY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">    </span><span class="nt">persistence</span><span class="p">:</span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">accessMode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteMany</span>
<span class="w">      </span><span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
<span class="w">      </span><span class="nt">volumeType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hostPath</span><span class="w"> </span><span class="c1"># e.g.) hostPath or AKS</span>
<span class="w">      </span><span class="nt">storageClass</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="w"> </span><span class="c1"># e.g.) azurefile or - (None)</span>
<span class="w">      </span><span class="c1"># matchLabels:</span>
<span class="w">      </span><span class="c1">#   release: &quot;stable&quot;</span>
<span class="w">      </span><span class="c1"># matchExpressions:</span>
<span class="w">      </span><span class="c1">#   - {key: environment, operator: In, values: [dev]}</span>
<span class="w">  </span><span class="nt">gitlabDefinition</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitlab</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">GITLAB_PROTOCOL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">      </span><span class="nt">GITLAB_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gitlab.exastro-platform.svc&quot;</span>
<span class="w">      </span><span class="nt">GITLAB_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;80&quot;</span>
<span class="w">    </span><span class="nt">secret</span><span class="p">:</span>
<span class="w">      </span><span class="nt">GITLAB_ROOT_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">itaDatabaseDefinition</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ita-database</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">DB_VENDOR</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mariadb&quot;</span>
<span class="w">      </span><span class="nt">DB_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mariadb.exastro-platform.svc&quot;</span>
<span class="w">      </span><span class="nt">DB_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3306&quot;</span>
<span class="w">      </span><span class="nt">DB_DATABASE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ITA_DB&quot;</span>
<span class="w">    </span><span class="nt">secret</span><span class="p">:</span>
<span class="w">      </span><span class="nt">DB_ADMIN_USER</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">      </span><span class="nt">DB_ADMIN_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">      </span><span class="nt">DB_USER</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">      </span><span class="nt">DB_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>

<span class="nt">ita-api-admin</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicaCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-it-automation-api-admin&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0.2&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>

<span class="nt">ita-api-organization</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicaCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-it-automation-api-organization&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0.2&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>

<span class="nt">ita-by-ansible-execute</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicaCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-it-automation-by-ansible-execute&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0.2&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>
<span class="w">  </span><span class="nt">extraEnv</span><span class="p">:</span>
<span class="w">    </span><span class="nt">EXECUTE_INTERVAL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10&quot;</span>
<span class="w">    </span><span class="nt">ANSIBLE_AGENT_IMAGE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-it-automation-by-ansible-agent&quot;</span>
<span class="w">    </span><span class="nt">ANSIBLE_AGENT_IMAGE_TAG</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0.2&quot;</span>
<span class="w">  </span><span class="nt">serviceAccount</span><span class="p">:</span>
<span class="w">    </span><span class="nt">create</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ita-by-ansible-execute-sa&quot;</span>

<span class="nt">ita-by-ansible-legacy-role-vars-listup</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicaCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">extraEnv</span><span class="p">:</span>
<span class="w">    </span><span class="nt">EXECUTE_INTERVAL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10&quot;</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-it-automation-by-ansible-legacy-role-vars-listup&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0.2&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>

<span class="nt">ita-by-ansible-towermaster-sync</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicaCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">extraEnv</span><span class="p">:</span>
<span class="w">    </span><span class="nt">EXECUTE_INTERVAL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10&quot;</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-it-automation-by-ansible-towermaster-sync&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0.2&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>

<span class="nt">ita-by-conductor-synchronize</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicaCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">extraEnv</span><span class="p">:</span>
<span class="w">    </span><span class="nt">EXECUTE_INTERVAL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10&quot;</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-it-automation-by-conductor-synchronize&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0.2&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>

<span class="nt">ita-by-menu-create</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicaCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">extraEnv</span><span class="p">:</span>
<span class="w">    </span><span class="nt">EXECUTE_INTERVAL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10&quot;</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-it-automation-by-menu-create&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0.2&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>

<span class="nt">ita-database-setup-job</span><span class="p">:</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>

<span class="nt">ita-web-server</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicaCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span>
<span class="w">    </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exastro/exastro-it-automation-web-server&quot;</span>
<span class="w">    </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0.2&quot;</span>
<span class="w">    </span><span class="nt">pullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>
</pre></div>
</div>
</details></section>
<section id="ingress">
<span id="ingress-setting"></span><h3>3. サービス公開の設定 (Ingress の設定)<a class="headerlink" href="#ingress" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">サービス公開用のドメイン情報を Ingress に登録することでDNSを使ったサービス公開を行います。</div>
<div class="line">パラメータの詳細は下記のとおりです。</div>
</div>
<table class="docutils align-left" id="id14">
<caption><span class="caption-number">表 3 </span><span class="caption-text">Exastro Platform 認証機能のオプションパラメータ</span><a class="headerlink" href="#id14" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 31.2%" />
<col style="width: 31.2%" />
<col style="width: 12.5%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>変更</p></th>
<th class="head"><p>デフォルト値・選択可能な設定値</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>platform-auth.ingress.enabled</p></td>
<td><p>Exastro Platform における Ingress 利用の要否</p></td>
<td><p>可</p></td>
<td><div class="line-block">
<div class="line"><strong class="program">true</strong> (デフォルト): Exastro Platform にアクセスするための Ingress Controller をデプロイします。</div>
<div class="line"><strong class="program">false</strong> : Ingress Controller をデプロイしません。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>platform-auth.ingress.hosts[0].host</p></td>
<td><div class="line-block">
<div class="line">Exastro Platform 管理コンソールエンドポイントのホスト名、もしくは、FQDN</div>
<div class="line">別途、DNSへのレコード登録が必要です。</div>
</div>
</td>
<td><p>可 (Ingress利用時)</p></td>
<td><p>&quot;exastro-suite.example.local&quot;</p></td>
</tr>
<tr class="row-even"><td><p>platform-auth.ingress.hosts[1].host</p></td>
<td><div class="line-block">
<div class="line">Exastro Platform エンドポイントのホスト名、もしくは、FQDN</div>
<div class="line">別途、DNSへのレコード登録が必要です。</div>
</div>
</td>
<td><p>可 (Ingress利用時)</p></td>
<td><p>&quot;exastro-suite-mng.example.local&quot;</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">Azure におけるドメイン名の確認方法については <a class="reference internal" href="aks.html#aks-dns"><span class="std std-ref">ドメイン名の確認</span></a> を確認してください。</div>
<div class="line">下記は、AKS の Ingress Controller を使用する際の例を記載しております。</div>
</div>
<ul>
<li><p>exastro-platform.yaml</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"> </span># exastro-platform.yaml
<span class="w"> </span>platform-auth:
<span class="w"> </span>  ingress:
<span class="w"> </span>    enabled: true
<span class="gi">+    annotations:</span>
<span class="gi">+      kubernetes.io/ingress.class: addon-http-application-routing</span>
<span class="gi">+      nginx.ingress.kubernetes.io/proxy-body-size: 100m</span>
<span class="gi">+      nginx.ingress.kubernetes.io/proxy-buffer-size: 256k</span>
<span class="gi">+      nginx.ingress.kubernetes.io/server-snippet: |</span>
<span class="gi">+        client_header_buffer_size 100k;</span>
<span class="gi">+        large_client_header_buffers 4 100k;</span>
<span class="w"> </span>    hosts:
<span class="gd">-      - host: exastro-suite.example.local</span>
<span class="gi">+      - host: exastro-suite.xxxxxxxxxxxxxxxxxx.japaneast.aksapp.io ★ここにドメイン名を記載</span>
<span class="w"> </span>        paths:
<span class="w"> </span>          - path: /
<span class="w"> </span>            pathType: Prefix
<span class="w"> </span>            backend: &quot;http&quot;
<span class="gd">-      - host: exastro-suite-mng.example.local</span>
<span class="gi">+      - host: exastro-suite-mng.xxxxxxxxxxxxxxxxxx.japaneast.aksapp.io ★ここにドメイン名を記載</span>
<span class="w"> </span>        paths:
<span class="w"> </span>          - path: /
<span class="w"> </span>            pathType: Prefix
<span class="w"> </span>            backend: &quot;httpMng&quot;
</pre></div>
</div>
</li>
</ul>
</section>
<section id="database-setup">
<span id="id5"></span><h3>4. データベースコンテナの設定<a class="headerlink" href="#database-setup" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">Kubernetes クラスタ内にデータベース用Podの起動有無を選択します。</div>
<div class="line">パラメータの詳細は下記のとおりです。</div>
</div>
<table class="docutils align-left" id="id15">
<caption><span class="caption-number">表 4 </span><span class="caption-text">共通設定 (Exastro 共用データベース) のオプションパラメータ</span><a class="headerlink" href="#id15" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 31.2%" />
<col style="width: 31.2%" />
<col style="width: 12.5%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>変更</p></th>
<th class="head"><p>デフォルト値・選択可能な設定値</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>global.databaseDefinition.secret.MARIADB_ROOT_PASSWORD</p></td>
<td><p>Exastro 共用データベースの root アカウントに設定するパスワード(エンコードなし)</p></td>
<td><p>必須</p></td>
<td><p>任意の文字列</p></td>
</tr>
<tr class="row-odd"><td><p>global.databaseDefinition.persistence.enabled</p></td>
<td><p>Exastro 共用データベースのデータ永続化の有効フラグ</p></td>
<td><p>可</p></td>
<td><div class="line-block">
<div class="line"><strong class="program">&quot;true&quot;</strong> (デフォルト): データを永続化する</div>
<div class="line"><strong class="program">&quot;false&quot;</strong>: データを永続化しない</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>global.databaseDefinition.persistence.reinstall</p></td>
<td><p>再インストール時にデータ領域の初期化の要否</p></td>
<td><p>可 (データ永続化時)</p></td>
<td><div class="line-block">
<div class="line"><strong class="program">&quot;true&quot;</strong> (デフォルト): データを初期化(削除)する</div>
<div class="line"><strong class="program">&quot;false&quot;</strong>: データを初期化(削除)しない</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>global.databaseDefinition.persistence.size</p></td>
<td><p>永続ボリュームのディスク容量</p></td>
<td><p>可 (データ永続化時)</p></td>
<td><p>&quot;20Gi&quot;</p></td>
</tr>
<tr class="row-even"><td><p>global.databaseDefinition.persistence.volumeType</p></td>
<td><p>永続ボリュームのボリュームタイプ</p></td>
<td><p>可 (現在無効)</p></td>
<td><div class="line-block">
<div class="line"><strong class="program">&quot;hostPath&quot;</strong> (デフォルト): Kubernetes クラスタのノード上にデータを保存(非推奨)</div>
<div class="line"><strong class="program">&quot;AKS&quot;</strong>: AKS のストレージクラスを利用</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>global.databaseDefinition.persistence.storageClass</p></td>
<td><p>永続ボリュームにストレージクラスを利用する場合のクラスを指定</p></td>
<td><p>可 (データ永続化時)</p></td>
<td><div class="line-block">
<div class="line"><strong class="program">&quot;-&quot;</strong> (デフォルト): ストレージクラスを指定しない。</div>
<div class="line"><strong class="program">ストレージクラス名</strong>: クラウドプロバイダなどから提供されるストレージクラス名を指定。</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">下記は、データベースコンテナを使用する際の例を記載しております。</div>
</div>
<div class="admonition danger">
<p class="admonition-title">危険</p>
<div class="line-block">
<div class="line">永続データはクラスタ内にあるノード上のローカルディスク(hostPath)に保存されますが、本番利用の際には外部ストレージを利用してください。</div>
<div class="line">物理的にノードが置き換わった場合データが消失します。</div>
</div>
</div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"> </span># exastro-platform.yaml
<span class="w"> </span>global:
<span class="w"> </span>  databaseDefinition:
<span class="w"> </span>    name: mariadb
<span class="w"> </span>    enabled: true
<span class="w"> </span>    secret:
<span class="gd">-      MARIADB_ROOT_PASSWORD: &quot;&quot;</span>
<span class="gi">+      MARIADB_ROOT_PASSWORD: &quot;root に設定するパスワード&quot;</span>
<span class="w"> </span>    persistence:
<span class="w"> </span>      enabled: true
<span class="w"> </span>      reinstall: false
<span class="w"> </span>      accessMode: ReadWriteOnce
<span class="w"> </span>      size: 20Gi
<span class="w"> </span>      volumeType: hostPath # e.g.) hostPath or AKS
<span class="w"> </span>      storageClass: &quot;-&quot; # e.g.) azurefile or - (None)
</pre></div>
</div>
</section>
<section id="keycloak">
<span id="installation-kubernetes-keycloak"></span><h3>5. Keycloak 設定<a class="headerlink" href="#keycloak" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">Keycloak 利用時に必要な認証情報やデータベースのアカウント情報を選択します。</div>
<div class="line">パラメータの詳細は下記のとおりです。</div>
</div>
<table class="docutils align-left" id="id16">
<caption><span class="caption-number">表 5 </span><span class="caption-text">共通設定 (Keycloak) のオプションパラメータ</span><a class="headerlink" href="#id16" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 31.2%" />
<col style="width: 31.2%" />
<col style="width: 12.5%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>変更</p></th>
<th class="head"><p>デフォルト値・選択可能な設定値</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>global.keycloakDefinition.config.KEYCLOAK_MASTER_REALM</p></td>
<td><p>Keycloak のマスターレルム名</p></td>
<td><p>可</p></td>
<td><p>&quot;master&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>global.keycloakDefinition.config.KEYCLOAK_DB_DATABASE</p></td>
<td><p>Keycloak が利用するデータベース名</p></td>
<td><p>可</p></td>
<td><p>&quot;keycloak&quot;</p></td>
</tr>
<tr class="row-even"><td><p>global.keycloakDefinition.secret.KEYCLOAK_USER</p></td>
<td><div class="line-block">
<div class="line">Keycloak のマスターレルムにおける管理権限を持ったユーザ名を指定。</div>
<div class="line">指定したユーザが作成される。</div>
</div>
</td>
<td><p>必須</p></td>
<td><p>任意の文字列</p></td>
</tr>
<tr class="row-odd"><td><p>global.keycloakDefinition.secret.KEYCLOAK_PASSWORD</p></td>
<td><p>Keycloak のマスターレルムにおける管理権限を持ったユーザに設定するパスワード(エンコードなし)</p></td>
<td><p>必須</p></td>
<td><p>任意の文字列</p></td>
</tr>
<tr class="row-even"><td><p>global.keycloakDefinition.secret.KEYCLOAK_DB_USER</p></td>
<td><p>Keycloak が使用するデータベースユーザ</p></td>
<td><p>必須</p></td>
<td><p>任意の文字列</p></td>
</tr>
<tr class="row-odd"><td><p>global.keycloakDefinition.secret.KEYCLOAK_DB_PASSWORD</p></td>
<td><p>Keycloak が使用するデータベースユーザのパスワード(エンコードなし)</p></td>
<td><p>必須</p></td>
<td><p>任意の文字列</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">下記は、Keycloak コンテナを使用する際の例を記載しております。</div>
</div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"> </span># exastro-platform.yaml
<span class="w"> </span>global:
<span class="w"> </span>  keycloakDefinition:
<span class="w"> </span>    name: keycloak
<span class="w"> </span>    enabled: true
<span class="w"> </span>    config:
<span class="w"> </span>      API_KEYCLOAK_PROTOCOL: &quot;http&quot;
<span class="w"> </span>      API_KEYCLOAK_HOST: &quot;keycloak.exastro-platform.svc&quot;
<span class="w"> </span>      API_KEYCLOAK_PORT: &quot;8080&quot;
<span class="w"> </span>      KEYCLOAK_PROTOCOL: &quot;http&quot;
<span class="w"> </span>      KEYCLOAK_HOST: &quot;keycloak.exastro-platform.svc&quot;
<span class="w"> </span>      KEYCLOAK_PORT: &quot;8080&quot;
<span class="w"> </span>      KEYCLOAK_MASTER_REALM: &quot;master&quot;
<span class="w"> </span>      KEYCLOAK_DB_DATABASE: &quot;keycloak&quot;
<span class="w"> </span>    secret:
<span class="gd">-      KEYCLOAK_USER: &quot;&quot;</span>
<span class="gd">-      KEYCLOAK_PASSWORD: &quot;&quot;</span>
<span class="gd">-      KEYCLOAK_DB_USER: &quot;&quot;</span>
<span class="gd">-      KEYCLOAK_DB_PASSWORD: &quot;&quot;</span>
<span class="gi">+      KEYCLOAK_USER: &quot;Keycloakログインユーザ&quot;</span>
<span class="gi">+      KEYCLOAK_PASSWORD: &quot;Keycloakログインパスワード&quot;</span>
<span class="gi">+      KEYCLOAK_DB_USER: &quot;Keycloak用DBユーザ&quot;</span>
<span class="gi">+      KEYCLOAK_DB_PASSWORD: &quot;Keycloak用DBパスワード&quot;</span>
</pre></div>
</div>
</section>
<section id="id6">
<h3>6. 認証機能用のデータベース設定<a class="headerlink" href="#id6" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">認証機能情報やデータベースのアカウント情報を選択します。</div>
<div class="line">パラメータの詳細は下記のとおりです。</div>
</div>
<table class="docutils align-left" id="id17">
<caption><span class="caption-number">表 6 </span><span class="caption-text">共通設定 (認証機能用データベース) のオプションパラメータ</span><a class="headerlink" href="#id17" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 31.2%" />
<col style="width: 31.2%" />
<col style="width: 12.5%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>変更</p></th>
<th class="head"><p>デフォルト値・選択可能な設定値</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>global.authDatabaseDefinition.config.DB_VENDOR</p></td>
<td><p>認証機能用データベースで使用するデータベース</p></td>
<td><p>可 (外部データベース利用時)</p></td>
<td><div class="line-block">
<div class="line"><strong class="program">&quot;mariadb&quot;</strong> (デフォルト): MariaDB を利用</div>
<div class="line"><strong class="program">&quot;mysql&quot;</strong>: MySQL を利用</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>global.authDatabaseDefinition.config.DB_HOST</p></td>
<td><div class="line-block">
<div class="line">認証機能用データベース利用するDB</div>
<div class="line">デフォルト状態では、同一の Kubernetes クラスタ内にデプロイされるコンテナを指定しています。</div>
<div class="line">クラスタ外部の DB を利用する場合には設定が必要となります。</div>
</div>
</td>
<td><p>可 (外部データベース利用時)</p></td>
<td><p>&quot;mariadb.exastro-platform.svc&quot;</p></td>
</tr>
<tr class="row-even"><td><p>global.authDatabaseDefinition.config.DB_PORT</p></td>
<td><p>認証機能用データベースで利用するポート番号(TCP)</p></td>
<td><p>可 (外部データベース利用時)</p></td>
<td><p>&quot;3306&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>global.authDatabaseDefinition.config.DB_DATABASE</p></td>
<td><p>認証機能用データベースで利用するデータベース名</p></td>
<td><p>可 (外部データベース利用時)</p></td>
<td><p>&quot;platform&quot;</p></td>
</tr>
<tr class="row-even"><td><p>global.authDatabaseDefinition.secret.DB_ADMIN_USER</p></td>
<td><p>認証機能用データベースで利用する管理権限を持つDBユーザ名</p></td>
<td><p>必須</p></td>
<td><p>管理権限を持つDBユーザ名</p></td>
</tr>
<tr class="row-odd"><td><p>global.authDatabaseDefinition.secret.DB_ADMIN_PASSWORD</p></td>
<td><p>認証機能用データベースで利用する管理権限を持つDBユーザのパスワード(エンコードなし)</p></td>
<td><p>必須</p></td>
<td><p>管理権限を持つDBユーザ名のパスワード</p></td>
</tr>
<tr class="row-even"><td><p>global.authDatabaseDefinition.secret.DB_USER</p></td>
<td><p>認証機能用データベースに作成するDBユーザ名</p></td>
<td><p>必須</p></td>
<td><p>任意の文字列</p></td>
</tr>
<tr class="row-odd"><td><p>global.authDatabaseDefinition.secret.DB_PASSWORD</p></td>
<td><p>認証機能用データベースに作成するDBユーザのパスワード(エンコードなし)</p></td>
<td><p>必須</p></td>
<td><p>任意の文字列</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">下記は、データベースコンテナを使用する際の例を記載しております。</div>
</div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"> </span># exastro-platform.yaml
<span class="w"> </span>global:
<span class="w"> </span>  authDatabaseDefinition:
<span class="w"> </span>    name: auth-database
<span class="w"> </span>    enabled: true
<span class="w"> </span>    config:
<span class="w"> </span>      DB_VENDOR: &quot;mariadb&quot;
<span class="w"> </span>      DB_HOST: &quot;mariadb.exastro-platform.svc&quot;
<span class="w"> </span>      DB_PORT: &quot;3306&quot;
<span class="w"> </span>      DB_DATABASE: &quot;platform&quot;
<span class="w"> </span>    secret:
<span class="gd">-      DB_ADMIN_USER: &quot;&quot;</span>
<span class="gd">-      DB_ADMIN_PASSWORD: &quot;&quot;</span>
<span class="gd">-      DB_USER: &quot;&quot;</span>
<span class="gd">-      DB_PASSWORD: &quot;&quot;</span>
<span class="gi">+      DB_ADMIN_USER: &quot;DBの管理ユーザ名&quot;</span>
<span class="gi">+      DB_ADMIN_PASSWORD: &quot;DBの管理ユーザのパスワード&quot;</span>
<span class="gi">+      DB_USER: &quot;認証基盤用ユーザ名&quot;</span>
<span class="gi">+      DB_PASSWORD: &quot;認証基盤用ユーザのパスワード&quot;</span>
</pre></div>
</div>
</section>
<section id="exastro-it-automation">
<h3>7. Exastro IT Automation 用のデータベース設定<a class="headerlink" href="#exastro-it-automation" title="この見出しへのパーマリンク">¶</a></h3>
<table class="docutils align-left" id="id18">
<caption><span class="caption-number">表 7 </span><span class="caption-text">共通設定 (Exastro IT Automation 用データベース) のオプションパラメータ</span><a class="headerlink" href="#id18" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 31.2%" />
<col style="width: 31.2%" />
<col style="width: 12.5%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>変更</p></th>
<th class="head"><p>デフォルト値・選択可能な設定値</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>global.itaDatabaseDefinition.config.DB_VENDOR</p></td>
<td><p>Exastro IT Automation 用データベースで使用するデータベース</p></td>
<td><p>可 (外部データベース利用時)</p></td>
<td><div class="line-block">
<div class="line"><strong class="program">&quot;mariadb&quot;</strong> (デフォルト): MariaDB を利用</div>
<div class="line"><strong class="program">&quot;mysql&quot;</strong>: MySQL を利用</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>global.itaDatabaseDefinition.config.DB_HOST</p></td>
<td><div class="line-block">
<div class="line">Exastro IT Automation 用データベース利用するDB</div>
<div class="line">デフォルト状態では、同一の Kubernetes クラスタ内にデプロイされるコンテナを指定しています。</div>
<div class="line">クラスタ外部の DB を利用する場合には設定が必要となります。</div>
</div>
</td>
<td><p>可 (外部データベース利用時)</p></td>
<td><p>&quot;mariadb.exastro-platform.svc&quot;</p></td>
</tr>
<tr class="row-even"><td><p>global.itaDatabaseDefinition.config.DB_PORT</p></td>
<td><p>Exastro IT Automation 用データベースで利用するポート番号(TCP)</p></td>
<td><p>可 (外部データベース利用時)</p></td>
<td><p>&quot;3306&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>global.itaDatabaseDefinition.config.DB_DATABASE</p></td>
<td><p>Exastro IT Automation 用データベースで利用するデータベース名</p></td>
<td><p>可 (外部データベース利用時)</p></td>
<td><p>&quot;platform&quot;</p></td>
</tr>
<tr class="row-even"><td><p>global.itaDatabaseDefinition.secret.DB_ADMIN_USER</p></td>
<td><p>Exastro IT Automation 用データベースで利用する管理権限を持つDBユーザ名</p></td>
<td><p>必須</p></td>
<td><p>管理権限を持つDBユーザ名</p></td>
</tr>
<tr class="row-odd"><td><p>global.itaDatabaseDefinition.secret.DB_ADMIN_PASSWORD</p></td>
<td><p>Exastro IT Automation 用データベースで利用する管理権限を持つDBユーザのパスワード(エンコードなし)</p></td>
<td><p>必須</p></td>
<td><p>管理権限を持つDBユーザ名のパスワード</p></td>
</tr>
<tr class="row-even"><td><p>global.itaDatabaseDefinition.secret.DB_USER</p></td>
<td><p>Exastro IT Automation 用データベースに作成するDBユーザ名</p></td>
<td><p>必須</p></td>
<td><p>任意の文字列</p></td>
</tr>
<tr class="row-odd"><td><p>global.itaDatabaseDefinition.secret.DB_PASSWORD</p></td>
<td><p>Exastro IT Automation 用データベースに作成するDBユーザのパスワード(エンコードなし)</p></td>
<td><p>必須</p></td>
<td><p>任意の文字列</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">下記は、データベースコンテナを使用する際の例を記載しております。</div>
</div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"> </span># exastro-it-automation.yaml
<span class="w"> </span>global:
<span class="w"> </span>  itaDatabaseDefinition:
<span class="w"> </span>    name: ita-database
<span class="w"> </span>    enabled: true
<span class="w"> </span>    config:
<span class="w"> </span>      DB_VENDOR: &quot;mariadb&quot;
<span class="gd">-      DB_ADMIN_USER: &quot;&quot;</span>
<span class="gd">-      DB_ADMIN_PASSWORD: &quot;&quot;</span>
<span class="gd">-      DB_USER: &quot;&quot;</span>
<span class="gd">-      DB_PASSWORD: &quot;&quot;</span>
<span class="gi">+      DB_ADMIN_USER: &quot;DBの管理ユーザ名&quot;</span>
<span class="gi">+      DB_ADMIN_PASSWORD: &quot;DBの管理ユーザのパスワード&quot;</span>
<span class="gi">+      DB_USER: &quot;認証基盤用ユーザ名&quot;</span>
<span class="gi">+      DB_PASSWORD: &quot;認証基盤用ユーザのパスワード&quot;</span>
<span class="w"> </span>-      DB_HOST: &quot;mariadb.exastro-platform.svc&quot;
<span class="w"> </span>-      DB_PORT: &quot;3306&quot;
<span class="w"> </span>+      DB_HOST: &quot;外部DBの接続先&quot;
<span class="w"> </span>+      DB_PORT: &quot;外部DBのポート番号&quot;
<span class="w"> </span>      DB_DATABASE: &quot;platform&quot;
</pre></div>
</div>
</section>
<section id="id7">
<h3>8. データベース接続アカウントの設定<a class="headerlink" href="#id7" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">データベース接続のためのアカウント情報を登録します。</div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<div class="line-block">
<div class="line">アカウントには、データベースを作成する権限が必要です。</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<div class="line-block">
<div class="line">認証情報などはすべて平文で問題ありません。(Base64エンコードは不要)</div>
</div>
</div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"># exastro-platform.yaml</span>
<span class="w">global:</span>
<span class="w"> </span>   authDatabaseDefinition:
<span class="w"> </span>   name: auth-database
<span class="w"> </span>   enabled: true
<span class="w"> </span>   config:
<span class="w"> </span>       DB_VENDOR: &quot;mariadb&quot;
<span class="w"> </span>       DB_HOST: &quot;mariadb.exastro-platform.svc&quot;
<span class="w"> </span>       DB_PORT: &quot;3306&quot;
<span class="w"> </span>       DB_DATABASE: &quot;platform&quot;
<span class="w"> </span>   secret:
<span class="gd">-      DB_ADMIN_USER: &quot;&quot;</span>
<span class="gd">-      DB_ADMIN_PASSWORD: &quot;&quot;</span>
<span class="gd">-      DB_USER: &quot;&quot;</span>
<span class="gd">-      DB_PASSWORD: &quot;&quot;</span>
<span class="gi">+      DB_ADMIN_USER: &quot;DBの管理ユーザ名&quot;</span>
<span class="gi">+      DB_ADMIN_PASSWORD: &quot;DBの管理ユーザのパスワード&quot;</span>
<span class="gi">+      DB_USER: &quot;認証基盤用ユーザ名&quot;</span>
<span class="gi">+      DB_PASSWORD: &quot;認証基盤用ユーザのパスワード&quot;</span>
<span class="w"> </span>   databaseDefinition:
<span class="w"> </span>   name: mariadb
<span class="w"> </span>   enabled: true
<span class="w"> </span>   secret:
<span class="gd">-      MARIADB_ROOT_PASSWORD: &quot;&quot;</span>
<span class="gi">+      MARIADB_ROOT_PASSWORD: &quot;DBのルートパスワード&quot;</span>
<span class="w"> </span>   persistence:
<span class="w"> </span>       enabled: true
<span class="w"> </span>       reinstall: false
<span class="w"> </span>       accessMode: ReadWriteOnce
</pre></div>
</div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"># exastro-it-automation.yaml</span>
<span class="w">global:</span>
<span class="w"> </span>   itaDatabaseDefinition:
<span class="w"> </span>   name: ita-database
<span class="w"> </span>   enabled: true
<span class="w"> </span>   config:
<span class="w"> </span>       DB_VENDOR: &quot;mariadb&quot;
<span class="w"> </span>       DB_HOST: &quot;mariadb.exastro-platform.svc&quot;
<span class="w"> </span>       DB_PORT: &quot;3306&quot;
<span class="w"> </span>       DB_DATABASE: &quot;ITA_DB&quot;
<span class="w"> </span>   secret:
<span class="gd">-      DB_ADMIN_USER: &quot;&quot;</span>
<span class="gd">-      DB_ADMIN_PASSWORD: &quot;&quot;</span>
<span class="gd">-      DB_USER: &quot;&quot;</span>
<span class="gd">-      DB_PASSWORD: &quot;&quot;</span>
<span class="gi">+      DB_ADMIN_USER: &quot;DBの管理ユーザ名&quot;</span>
<span class="gi">+      DB_ADMIN_PASSWORD: &quot;DBの管理ユーザのパスワード&quot;</span>
<span class="gi">+      DB_USER: &quot;認証基盤用ユーザ名&quot;</span>
<span class="gi">+      DB_PASSWORD: &quot;認証基盤用ユーザのパスワード&quot;</span>
</pre></div>
</div>
</section>
<section id="gitlab">
<h3>9. GitLab 連携設定<a class="headerlink" href="#gitlab" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">GitLab 連携のためのアカウント情報を登録します。</div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<div class="line-block">
<div class="line">アカウントには、GitLab のアカウントを作成する権限が必要です。</div>
</div>
</div>
<ul>
<li><p>exastro-it-automation.yaml (Exastro IT Automation) の修正箇所</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"># exastro-it-automation.yaml</span>
<span class="w">global:</span>
<span class="w"> </span> gitlabDefinition:
<span class="w"> </span>   name: gitlab
<span class="w"> </span>   enabled: true
<span class="w"> </span>   config:
<span class="gd">-     GITLAB_PROTOCOL: &quot;http&quot;</span>
<span class="gd">-     GITLAB_HOST: &quot;gitlab.exastro-platform.svc&quot;</span>
<span class="gd">-     GITLAB_PORT: &quot;80&quot;</span>
<span class="gi">+     GITLAB_PROTOCOL: &quot;接続プロトコル http or https&quot;</span>
<span class="gi">+     GITLAB_HOST: &quot;接続先&quot;</span>
<span class="gi">+     GITLAB_PORT: &quot;接続ポート&quot;</span>
<span class="w"> </span>   secret:
<span class="gd">-     GITLAB_ROOT_TOKEN: &quot;&quot;</span>
<span class="gi">+     GITLAB_ROOT_TOKEN: &quot;GitLabのRoot権限を持ったトークン&quot;</span>
<span class="w"> </span> itaDatabaseDefinition:
<span class="w"> </span>   name: ita-database
</pre></div>
</div>
</li>
</ul>
</section>
<section id="persistentvolume-pv">
<h3>10. 永続ボリューム - PersistentVolume(pv)の設定例<a class="headerlink" href="#persistentvolume-pv" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">データベースのデータ永続化 (クラスタ内コンテナがある場合)、および、ファイルの永続化のために、永続ボリュームを設定する必要があります。</div>
</div>
<ul>
<li><p>マネージドディスクを使用する場合 (本番向け)</p>
<div class="line-block">
<div class="line">Azure のストレージを利用する場合、下記のように StorageClass を定義することで利用が可能です。</div>
<div class="line">※以下を適用した際は、values.yaml ファイルの値も合わせて修正する必要があります。</div>
</div>
<ul>
<li><p>storage-class-exastro-suite.yaml</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">storage.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">StorageClass</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exastro-suite-azurefile-csi-nfs</span>
<span class="nt">provisioner</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file.csi.azure.com</span>
<span class="nt">allowVolumeExpansion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">parameters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nfs</span>
<span class="nt">mountOptions</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nconnect=8</span>
</pre></div>
</div>
</li>
<li><p>exastro-platform.yaml (helm valuesファイル)</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>global:
<span class="w"> </span>  databaseDefinition:
<span class="w"> </span>    persistence:
<span class="w"> </span>      enabled: true
<span class="w"> </span>      reinstall: false
<span class="w"> </span>      accessMode: ReadWriteOnce
<span class="w"> </span>      size: 20Gi
<span class="w"> </span>      volumeType: hostPath # e.g.) hostPath or AKS
<span class="gd">-      storageClass: &quot;-&quot; # e.g.) azurefile or - (None)</span>
<span class="gi">+      storageClass: &quot;exastro-suite-azurefile-csi-nfs&quot; # e.g.) azurefile or - (None)</span>
</pre></div>
</div>
</li>
<li><p>exastro-it-automation.yaml (helm valuesファイル)</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>global:
<span class="w"> </span>  itaGlobalDefinition:
<span class="w"> </span>    persistence:
<span class="w"> </span>      enabled: true
<span class="w"> </span>      accessMode: ReadWriteMany
<span class="w"> </span>      size: 10Gi
<span class="w"> </span>      volumeType: hostPath # e.g.) hostPath or AKS
<span class="gd">-      storageClass: &quot;-&quot; # e.g.) azurefile or - (None)</span>
<span class="gi">+      storageClass: &quot;azurefile&quot; # e.g.) azurefile or - (None)</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>Kubernetes ノードのディレクトリを利用する場合 (テスト・検証向け)</p>
<div class="line-block">
<div class="line">設定方法は各サーバやサービスなどによって異なりますが、ここでは hostPath を使用した例を記載します。</div>
<div class="line">※マネージドサービスを利用する場合は、後続の例を参照してください。</div>
</div>
<div class="admonition danger">
<p class="admonition-title">危険</p>
<div class="line-block">
<div class="line">データの永続化自体は可能ですが、コンピュートノードの増減や変更によりデータが消えてしまう可能性があるため本番環境では使用しないでください。</div>
<div class="line">また、Azure で構築した AKS クラスタは、クラスタを停止すると AKS クラスターの Node が解放されるため、保存していた情報は消えてしまいます。そのため、Node が停止しないように注意が必要となります。</div>
</div>
</div>
<ul>
<li><p>pv-database.yaml (データベース用ボリューム)</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># pv-database.yaml</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pv-database</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">capacity</span><span class="p">:</span>
<span class="w">    </span><span class="nt">storage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20Gi</span>
<span class="w">  </span><span class="nt">accessModes</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
<span class="w">  </span><span class="nt">persistentVolumeReclaimPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Retain</span>
<span class="w">  </span><span class="nt">hostPath</span><span class="p">:</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/data/exastro-suite/exastro-platform/database</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DirectoryOrCreate</span>
</pre></div>
</div>
</li>
<li><p>pv-ita-common.yaml (ファイル用ボリューム)</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># pv-ita-common.yaml</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pv-ita-common</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">capacity</span><span class="p">:</span>
<span class="w">    </span><span class="nt">storage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
<span class="w">  </span><span class="nt">accessModes</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteMany</span>
<span class="w">  </span><span class="nt">persistentVolumeReclaimPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Retain</span>
<span class="w">  </span><span class="nt">hostPath</span><span class="p">:</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/data/exastro-suite/exastro-it-automation/ita-common</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DirectoryOrCreate</span>
</pre></div>
</div>
</li>
<li><p>PersistentVolume の作成</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># pv-database.yaml</span>
kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>pv-database.yaml

<span class="c1"># pv-ita-common.yaml</span>
kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>pv-ita-common.yaml

<span class="c1"># 確認</span>
kubectl<span class="w"> </span>get<span class="w"> </span>pv

NAME<span class="w">            </span>CAPACITY<span class="w">   </span>ACCESS<span class="w"> </span>MODES<span class="w">   </span>RECLAIM<span class="w"> </span>POLICY<span class="w">   </span>STATUS<span class="w">      </span>CLAIM<span class="w">   </span>STORAGECLASS<span class="w">   </span>REASON<span class="w">   </span>AGE
pv-database<span class="w">     </span>20Gi<span class="w">       </span>RWO<span class="w">            </span>Retain<span class="w">           </span>Available<span class="w">                                   </span>19s
pv-ita-common<span class="w">   </span>10Gi<span class="w">       </span>RWX<span class="w">            </span>Retain<span class="w">           </span>Available<span class="w">                                   </span>9s
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="id8">
<span id="id9"></span><h2>インストール<a class="headerlink" href="#id8" title="この見出しへのパーマリンク">¶</a></h2>
<ol class="arabic">
<li><p>Namespace (名前空間) の作成</p>
<ul>
<li><p>コマンドラインから以下のコマンドで Namespace を作成します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 共通基盤用の Namespace 作成</span>
kubectl<span class="w"> </span>create<span class="w"> </span>ns<span class="w"> </span>exastro-platform
<span class="c1"># Exastro IT Automation 用の Namespace 作成</span>
kubectl<span class="w"> </span>create<span class="w"> </span>ns<span class="w"> </span>exastro-it-automation
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>インストール</p>
<ul>
<li><p>Helm を使い Kubernetes 環境にインストールを行います。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 共通基盤用のリソースをデプロイ</span>
helm<span class="w"> </span>install<span class="w"> </span>exastro-platform<span class="w"> </span>exastro-platform/exastro-platform<span class="w"> </span>-n<span class="w"> </span>exastro-platform<span class="w"> </span>-f<span class="w"> </span>exastro-platform.yaml
<span class="c1"># Exastro IT Automation 用のリソースをデプロイ</span>
helm<span class="w"> </span>install<span class="w"> </span>exastro-it-automation<span class="w"> </span>exastro-it-automation/exastro-it-automation<span class="w"> </span>-n<span class="w"> </span>exastro-it-automation<span class="w"> </span>-f<span class="w"> </span>exastro-it-automation.yaml
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
</section>
<section id="id10">
<h2>インストール状況確認<a class="headerlink" href="#id10" title="この見出しへのパーマリンク">¶</a></h2>
<ol class="arabic">
<li><p>Pod状態確認</p>
<ul>
<li><p>共通基盤 (Exastro Platform)</p>
<div class="line-block">
<div class="line">コマンドラインから以下のコマンドを入力して、インストールが完了していることを確認します。</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pod の一覧を取得</span>
kubectl<span class="w"> </span>get<span class="w"> </span>po<span class="w"> </span>-n<span class="w"> </span>exastro-platform
</pre></div>
</div>
<div class="line-block">
<div class="line">正常動作している場合は、すべて “Running” もしくは “Completed” となります。</div>
<div class="line">※正常に起動するまで数分かかる場合があります。</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>po<span class="w"> </span>-n<span class="w"> </span>exastro-platform

NAME<span class="w">                                 </span>READY<span class="w">   </span>STATUS<span class="w">      </span>RESTARTS<span class="w">   </span>AGE
keycloak-64df696bf5-5667l<span class="w">        </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>51s
mariadb-7b4fb98469-6j4sg<span class="w">         </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>51s
platform-api-6b644ddcd-sfrzs<span class="w">     </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>51s
platform-auth-6ddd9457bf-6pphj<span class="w">   </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>51s
platform-setup-tq8vn<span class="w">             </span><span class="m">0</span>/1<span class="w">     </span>Completed<span class="w">   </span><span class="m">0</span><span class="w">          </span>51s
platform-web-7c57c6994-ntxvh<span class="w">     </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>51s
</pre></div>
</div>
</li>
<li><p>Exastro IT Automation</p>
<div class="line-block">
<div class="line">コマンドラインから以下のコマンドを入力して、インストールが完了していることを確認します。</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>get<span class="w"> </span>po<span class="w"> </span>-n<span class="w"> </span>exastro-it-automation
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>po<span class="w"> </span>-n<span class="w"> </span>exastro-it-automation

NAME<span class="w">                                                         </span>READY<span class="w">   </span>STATUS<span class="w">      </span>RESTARTS<span class="w">   </span>AGE
ita-api-admin-65b976ccf5-w2rd6<span class="w">                           </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>28s
ita-api-organization-759c486d5b-z7pbv<span class="w">                    </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>28s
ita-by-ansible-execute-6c854b74cb-7s5ls<span class="w">                  </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>28s
ita-by-ansible-legacy-role-vars-listup-b5bcdb44c-gq7pr<span class="w">   </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>28s
ita-by-ansible-towermaster-sync-576d54b94c-b7t4s<span class="w">         </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>28s
ita-by-conductor-synchronize-7dc96dcff5-q657p<span class="w">            </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>28s
ita-by-menu-create-7c667fd48c-9zlqg<span class="w">                      </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>28s
ita-setup-5g6nh<span class="w">                                          </span><span class="m">0</span>/1<span class="w">     </span>Completed<span class="w">   </span><span class="m">0</span><span class="w">          </span>28s
ita-web-server-785cc9447-hwggj<span class="w">                           </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">     </span><span class="m">0</span><span class="w">          </span>28s
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
<div class="line-block">
<div class="line">以上で設定が完了となり、Ingress で登録したホスト名でログイン可能になります。</div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<div class="line-block">
<div class="line">初期データ設定が完了するまでは、Exastro Suite の GUI および API は呼び出せませんのでご注意ください。</div>
</div>
</div>
</section>
<section id="id11">
<h2>接続確認<a class="headerlink" href="#id11" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">ブラウザより、Ingress で登録した管理者側のホスト名で設定した URL を使って設定画面に入れることを確認します。</div>
</div>
<p><a class="reference external" href="https://exastro-suite-mng.xxxxxxx.japaneast.aksapp.io/auth/">https://exastro-suite-mng.xxxxxxx.japaneast.aksapp.io/auth/</a></p>
<div class="line-block">
<div class="line">以下の画面が表示された場合、<span class="menuselection">Administration Console</span> を選択して、ログインできることを確認してください。</div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="../../../_images/administrator-console.png"><img alt="administrator-console" src="../../../_images/administrator-console.png" style="width: 952.0px; height: 460.0px;" /></a>
</figure>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<div class="line-block">
<div class="line">ログイン ID とパスワードは、exastro-platform.yaml ファイルで設定した内容となります。</div>
</div>
</div>
<div class="line-block">
<div class="line">インストールが完了したら、<a class="reference internal" href="../manuals/platform_management/organization.html"><span class="doc">Organization (オーガナイゼーション)</span></a> の作成を行います。</div>
</div>
</section>
</section>


</div>


<div id="articleNavigation">
  <ul>
    <li class="prev"><a href="aks.html" title="前のトピックへ"><span>前のトピックへ</span>Azure Kubernetes Service</a></li>
    <li class="next"><a href="../manuals/index.html" title="次のトピックへ"><span>次のトピックへ</span>マニュアル</a></li>
  </ul>
</div>


<div id="pageTopLink">
  <a href="#container"><i>↑</i> Page Top</a>
</div>

</article>
</div>
</main>
</div><!-- End #contents -->
<div id="footer">
  <footer class="divInner">
    <small>Copyright © 2023 NEC Corporation</small>
  </footer>
</div><!-- End #footer -->

<div id="overlay"></div>

</div><!-- End #container -->
  </body>
</html>